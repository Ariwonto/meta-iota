From dba8979902b026ad345b2209ea9122578dcf7fd7 Mon Sep 17 00:00:00 2001
From: bernardo rodrigues <bernardo.araujo@silicon-gears.com>
Date: Thu, 8 Aug 2019 12:00:51 -0400
Subject: [PATCH] fix MAM_ENDPOINT_ID_TRYTE_SIZE

---
 iota/send-common.c | 2 +-
 iota/send-header.c | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/iota/send-common.c b/iota/send-common.c
index 10fbb1e..d85f9b7 100644
--- a/iota/send-common.c
+++ b/iota/send-common.c
@@ -78,7 +78,7 @@ retcode_t mam_example_announce_new_endpoint(mam_api_t* const api, tryte_t const*
   fprintf(stderr, "\n");
 
   fprintf(stderr, "EP1 ID: ");
-  for (size_t i = 0; i < MAM_ENDPOINT_ID_SIZE / 3; i++) {
+  for (size_t i = 0; i < MAM_ENDPOINT_ID_TRYTE_SIZE; i++) {
     fprintf(stderr, "%c", new_endpoint_id[i]);
   }
   fprintf(stderr, "\n");
diff --git a/iota/send-header.c b/iota/send-header.c
index eb44027..af99c42 100644
--- a/iota/send-header.c
+++ b/iota/send-header.c
@@ -68,7 +68,7 @@ int main(int ac, char **av) {
         return EXIT_FAILURE;
       }
     } else if (msg_pubkey == mam_msg_pubkey_epid) {
-      tryte_t new_endpoint_id[MAM_ENDPOINT_ID_SIZE];
+      tryte_t new_endpoint_id[MAM_ENDPOINT_ID_TRYTE_SIZE];
 
       if ((ret = mam_example_announce_new_endpoint(&api, channel_id, bundle, msg_id, new_endpoint_id)) != RC_OK) {
         fprintf(stderr, "mam_example_announce_new_endpoint failed with err %d\n", ret);
@@ -88,7 +88,7 @@ int main(int ac, char **av) {
       }
       return 0;
     } else if (msg_pubkey == mam_msg_pubkey_epid1) {
-      tryte_t new_endpoint_id[MAM_ENDPOINT_ID_SIZE];
+      tryte_t new_endpoint_id[MAM_ENDPOINT_ID_TRYTE_SIZE];
 
       bundle_transactions_free(&bundle);
       bundle_transactions_new(&bundle);
-- 
2.7.4


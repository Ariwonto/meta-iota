From 64c0016e2e8269b10f9f823bbd6fb5c39cc13d2b Mon Sep 17 00:00:00 2001
From: bernardo rodrigues <bernardo.araujo@silicon-gears.com>
Date: Thu, 8 Aug 2019 12:07:02 -0400
Subject: [PATCH] fix MAM_CHANNEL_ID_TRYTE_SIZE

---
 iota/send-common.c | 2 +-
 iota/send-header.c | 4 ++--
 iota/send-msg.c    | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/iota/send-common.c b/iota/send-common.c
index d85f9b7..82ee0f8 100644
--- a/iota/send-common.c
+++ b/iota/send-common.c
@@ -41,7 +41,7 @@ retcode_t mam_example_announce_new_channel(mam_api_t* const api, tryte_t const*
   fprintf(stderr, "\n");
 
   fprintf(stderr, "CH1 ID: ");
-  for (size_t i = 0; i < MAM_CHANNEL_ID_SIZE / 3; i++) {
+  for (size_t i = 0; i < MAM_CHANNEL_ID_TRYTE_SIZE; i++) {
     fprintf(stderr, "%c", new_channel_id[i]);
   }
   fprintf(stderr, "\n");
diff --git a/iota/send-header.c b/iota/send-header.c
index af99c42..7d8b116 100644
--- a/iota/send-header.c
+++ b/iota/send-header.c
@@ -15,7 +15,7 @@
 int main(int ac, char **av) {
   mam_api_t api;
   bundle_transactions_t *bundle = NULL;
-  tryte_t channel_id[MAM_CHANNEL_ID_SIZE];
+  tryte_t channel_id[MAM_CHANNEL_ID_TRYTE_SIZE];
   mam_msg_pubkey_t msg_pubkey;
   int msg_pubkey_int;
   retcode_t ret = RC_OK;
@@ -97,7 +97,7 @@ int main(int ac, char **av) {
         return EXIT_FAILURE;
       }
     } else if (msg_pubkey == mam_msg_pubkey_chid1) {
-      tryte_t new_channel_id[MAM_CHANNEL_ID_SIZE];
+      tryte_t new_channel_id[MAM_CHANNEL_ID_TRYTE_SIZE];
 
       if ((ret = mam_example_announce_new_channel(&api, channel_id, bundle, msg_id, new_channel_id)) != RC_OK) {
         fprintf(stderr, "mam_example_announce_new_endpoint failed with err %d\n", ret);
diff --git a/iota/send-msg.c b/iota/send-msg.c
index 062fbcc..fc9520a 100644
--- a/iota/send-msg.c
+++ b/iota/send-msg.c
@@ -15,7 +15,7 @@
 int mam_send_message(char *host, int port, char *seed, char *payload, size_t payload_size, bool last_packet) {
   mam_api_t api;
   bundle_transactions_t *bundle = NULL;
-  tryte_t channel_id[MAM_CHANNEL_ID_SIZE];
+  tryte_t channel_id[MAM_CHANNEL_ID_TRYTE_SIZE];
   retcode_t ret = RC_OK;
 
   // Loading or creating MAM API
-- 
2.7.4

